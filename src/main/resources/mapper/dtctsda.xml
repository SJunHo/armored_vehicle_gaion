<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.gaion.scas.analysis.mapper.DtctsdaMapper">

	<select id="countAll" resultType="Integer">
		select count(distinct sdaid)
		from DTCTSDA
		where dttime like CONCAT('%',#{dttime},'%')
	</select>
	
	<select id="countDtctsdaBySdaid" parameterType="String" resultType="Integer">
		select count(distinct sdaid)
		from DTCTSDA
		where sdaid = #{sdaid}
		and dttime like CONCAT('%',#{dttime},'%')
	</select>
	
	<insert id="insertDtctsda" parameterType="kr.co.gaion.scas.analysis.model.Dtctsda">
		insert into DTCTSDA(sdaid, snsrid, snsrvle, filenm, dttime)
		values(#{sdaid}, #{snsrid}, #{snsrvle}, #{filenm}, #{dttime})	
	</insert>
	
	<select id="getDtctsda" parameterType="java.util.Map" resultType="kr.co.gaion.scas.analysis.model.Dtctsda"> 
	select * 
	from dtctsda 
	where filenm = #{fileNm} and snsrid = #{sensorid} and sdaid = #{sdaid} 
	</select>
	
</mapper>