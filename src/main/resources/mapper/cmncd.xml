<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.gaion.scas.analysis.mapper.CmncdMapper">
	<select id="findListByCode" parameterType="String" resultType="kr.co.gaion.scas.analysis.model.Cmncd">
		select *
		from CMNCD
		where code like CONCAT(#{code},'%')
	</select>
		
	<select id="findCmncdList" parameterType="Integer" resultType="kr.co.gaion.scas.analysis.model.Cmncd">
		select *
		from CMNCD
		order by cmncdid
		limit #{page}, #{pageSize}
	</select>
	
	<select id="countCmncdAll" resultType="Integer">
		select IFNULL(count(*),0)
		from CMNCD
	</select>
	
	<update id="insertCmncd" parameterType="kr.co.gaion.scas.analysis.model.Cmncd">
		insert into CMNCD(code, crtdt, expln, mdfcdt, usedvcd, var, groupcode)
		values(#{code}, #{crtdt}, #{expln}, #{mdfcdt}, #{usedvcd}, #{var}, #{groupcode})
	</update>
	
	<select id="findCmncd" parameterType="Integer" resultType="kr.co.gaion.scas.analysis.model.Cmncd">
		select *
		from CMNCD
		where cmncdid = #{id}
	</select>
	
	<update id="updateCmncd" parameterType="kr.co.gaion.scas.analysis.model.Cmncd">
		update CMNCD
		set code = #{code}, expln = #{expln}
			, usedvcd = #{usedvcd}, var = #{var}
			, groupcode = #{groupcode}
			, mdfcdt = #{mdfcdt}
		where cmncdid = #{cmncdid}
	</update>
	
	<delete id="deleteCmncd" parameterType="Integer">
		delete from cmncd
		where cmncdid = #{id}
	</delete>
</mapper>